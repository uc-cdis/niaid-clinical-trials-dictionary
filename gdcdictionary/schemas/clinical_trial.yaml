$schema: "http://json-schema.org/draft-04/schema#"

id: "clinical_trial"
title: Clinical Trial
type: object
namespace: https://niaid-clinical-trials-dictionary.org
category: clinical
program: '*'
project: '*'
description: >
  The collection of all data related to a clinical trial.
additionalProperties: false
submittable: true
validators: null

systemProperties:
  - id
  - project_id
  - created_datetime
  - updated_datetime
  - state

links:
  - exclusive: false
    required: true
    subgroup:
    - name: projects
      backref: clinical_trials
      label: data_from
      target_type: project
      multiplicity: many_to_one
      required: false

required:
  - submitter_id
  - type

uniqueKeys:
  - [id]
  - [project_id, submitter_id]

# Case properties
properties:
  $ref: "_definitions.yaml#/ubiquitous_properties"

  title:
    description: >
      Name for this study (Brief Title)
    type: string

  official_title:
    description: >
      Official name for this study (Brief Title)
    type: string

  description:
    description: >
      What this is study doing (Brief Summary)
    type: string

  detailed_description:
    description: >
      Detailed description of what this study is doing
    type: string

  category:
    description: >
      Classifications for the study (Study Type)
    type: string

  phase:
    description: >
      Study Phase
    enum:
      - "n-a"
      - "early-phase-1"
      - "phase-1"
      - "phase-1-phase-2"
      - "phase-2"
      - "phase-2-phase-3"
      - "phase-3"
      - "phase-4"

  category:
    description: >
      Codes that describe the type of research study. E.g. Study phase, Interventional/Observational, blinding type, etc. (Intervention)
    type: string

  arm_name:
    description: >
      Label for study arm
    type: string

  arm_type:
    description: >
      Categorization of study arm
    type: string

  arm_description:
    description: >
      Short explanation of study path
    type: string

  publications:
    description: >
      Publications
    type: string 
    
  projects:
    $ref: "_definitions.yaml#/to_one_project"